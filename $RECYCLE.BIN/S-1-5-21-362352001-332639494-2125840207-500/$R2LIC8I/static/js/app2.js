webpackJsonp([1],{"/Z5Y":function(t,n){},AQYe:function(t,n,s){"use strict";var e=s("lRwf"),i=s.n(e),a=s("SJI6"),r=s.n(a);function o(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}i.a.use(r.a);var u=new r.a.Store({state:{actStatus:0,isSingUp:null,isLoading:0,toast:!1,toastTitle:"",toastMsg:"",cb:null,isShare:!1,gifts:{},inited:0,tab:0,owner:{},rankGroups:{},groupsUserMsg:{}},mutations:{isLoaging:function(t,n){n?++t.isLoading:--t.isLoading},setShareState:function(t,n){t.isShare=n},setActStatus:function(t,n){t.actStatus=n},setUserMsg:function(t,n){t.userMsg=n},setToast:function(t,n){t.toast=!0,t.toastMsg=n.msg,n.title&&(t.toastTitle=n.title),n.cb&&(t.cb=n.cb)},closeToast:function(t,n){t.toast=!1},setGifts:function(t,n){t.gifts=n},setInited:function(t,n){t.inited=n},changTab:function(t,n){t.tab=n},setOwner:function(t,n){t.owner=n},setSingUp:function(t,n){t.isSingUp=n},changGroupsUserMsg:function(t,n){if(n&&void 0!==n.key){var s=n.key;delete n.key,t.groupsUserMsg=Object.assign({},t.groupsUserMsg,o({},s,Object.assign({},t.groupsUserMsg[s],n)))}},updateRankGroups:function(t,n){if(n&&void 0!==n.key){var s=n.key;delete n.key,t.rankGroups=Object.assign({},t.rankGroups,o({},s,Object.assign({},t.rankGroups[s],n)))}console.log(t.rankGroups)}},actions:{setloading:function(t,n){(0,t.commit)("isLoaging",n)}},getters:{}});n.a=u},OMN4:function(t,n){t.exports=axios},RpLG:function(t,n,s){"use strict";n.a=function(t,n){t.getFullYear();var s=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,e=t.getDate()<10?"0"+t.getDate():t.getDate(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),a=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return t.getSeconds(),t.getSeconds(),"~"==n?i+"h  "+e+"/"+s:1==n?s+"."+e:2==n?s+"月"+e+"日"+i+":"+a:"pai"==n?(a<10&&(a="0"+a),i+":"+a+"   "+e+"/"+s):void 0}},SJI6:function(t,n){t.exports=Vuex},j60g:function(t,n,s){"use strict";n.a=function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(n);if(null!=s)return decodeURIComponent(s[2])}},lRwf:function(t,n){t.exports=Vue},mBGK:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=s("lRwf"),i=s.n(e),a=s("yKQW"),r=s("RpLG"),o={data:function(){return{tabs:[],vol:0,gifts:{},user:{},id:0,rankGrounp:{},giftsGrounp:{}}},created:function(){var t=this;a.a.lastRank(0).then(function(n){var s=n.data.response_data,e=s.gifts,i=s.tabs,a=s.users,r=s.vol;s.max;for(var o in t.tabs=i,t.vol=r,t.gifts=e,t.user=a,t.$set(t.rankGrounp,r,a),t.$set(t.giftsGrounp,r,e),a)return void(t.id=o)})},computed:{nowUser:function(){return this.rankGrounp[this.vol]?this.rankGrounp[this.vol][this.id]:{}},nowgifts:function(){return this.giftsGrounp[this.vol]?this.giftsGrounp[this.vol]:{}}},methods:{getDate:function(t){return Object(r.a)(new Date(1e3*t),1)},tabClick:function(t){var n=this;if(this.rankGrounp[t])for(var s in this.vol=t,this.nowgifts)return void(this.id=s);else a.a.lastRank(t).then(function(s){var e=s.data.response_data.users,i=s.data.response_data.gifts;if(n.$set(n.rankGrounp,t,e),n.$set(n.giftsGrounp,t,i),e&&e.length)for(var a in e)return n.id=a,void(n.vol=t);else n.id=null,n.vol=t})},typeClick:function(t){console.log(t),this.id=t||null}}},u={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"rule"},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"tabsList"},t._l(t.tabs,function(n,e){return s("span",{key:e,staticClass:"tabItem",class:{act:e==t.vol},on:{click:function(n){return t.tabClick(e)}}},[t._v(t._s(t.getDate(n[0]))+"-"+t._s(t.getDate(n[1])))])}),0),t._v(" "),s("div",{staticClass:"gifts"},[s("div",{staticClass:"title"}),t._v(" "),s("div",{staticClass:"giftImg"},t._l(t.nowgifts,function(n,e){return s("div",{key:e,staticClass:"gift",on:{click:function(n){return t.typeClick(e)}}},[s("span",{staticClass:"imgIcon",class:{act:t.id==e}},[s("img",{attrs:{src:n.image,alt:""}})]),t._v(" "),s("strong",[t._v(t._s(n.name))])])}),0)]),t._v(" "),t.nowUser?s("div",{staticClass:"user"},[s("div",{staticClass:"imgBox"},[s("span",{staticClass:"imgBg"}),t._v(" "),s("img",{attrs:{src:t.nowUser.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"nick"},[s("span",[t._v(" "+t._s(t.nowUser.nick))]),t._v(" "),s("div",{staticClass:"medals"},t._l(t.nowUser.medals,function(t,n){return s("img",{key:n,attrs:{src:t,alt:""}})}),0)]),t._v(" "),s("div",{staticClass:"score"},[t._v("最高紀錄："),s("em",[t._v(t._s(t.nowUser.score))]),t._v("個")])]):s("div",{staticClass:"user noData"},[t._v("\n    暫無數據\n  ")])])},staticRenderFns:[]};var c=s("C7Lr")(o,u,!1,function(t){s("/Z5Y")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{main2:c},render:function(t){return t(c)}})},yKQW:function(t,n,s){"use strict";var e=s("OMN4"),i=s.n(e),a=s("AQYe"),r=s("j60g"),o=Object(r.a)("token"),u=Object(r.a)("uid");function c(t,n){return new Promise(function(s,e){a.a.dispatch("setloading",!0),i.a.get(t,n).then(function(t){a.a.dispatch("setloading",!1),s(t)}).catch(function(t){a.a.dispatch("setloading",!1),e(t)})})}var g={getDefault:function(){return c(o?"/index.php?action=giftsRank.init&signture=innerserver&uid="+u+"&token="+o:"/index.php?action=giftsRank.init&signture=innerserver")},singUp:function(){return c("/index.php?action=giftsRank.reg&signture=innerserver&uid="+u+"&token="+o)},roolMsg:function(){return c("/index.php?action=giftsRank.notice&signture=innerserver&uid="+u+"&token="+o)},getRank:function(t,n){return c("/index.php?action=giftsRank.rank&gid="+t+"&from="+n+"&signture=innerserver&uid="+u+"&token="+o)},lastRank:function(t){return c("/index.php?action=giftsRank.vols&vol="+t+"&signture=innerserver&uid="+u+"&token="+o)}};n.a=g}},["mBGK"]);