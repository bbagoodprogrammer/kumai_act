webpackJsonp([1],{AQYe:function(t,n,e){"use strict";var s=e("lRwf"),o=e.n(s),i=e("SJI6"),a=e.n(i);function c(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}o.a.use(a.a);var r=new a.a.Store({state:{actStatus:0,userMsg:{},isLoading:0,toastObj:{toast:!1,toastTitle:"",toastMsg:"",cb:null},isShare:!1,reg:!1,packets:{},redPacket:{},naming:{},notice:{},top_record:[],rankGroups:{},groupsUserMsg:{},tab:"total",setInited:0},mutations:{isLoaging:function(t,n){n?++t.isLoading:--t.isLoading},setShareState:function(t,n){t.isShare=n},setActStatus:function(t,n){t.actStatus=n},setUserMsg:function(t,n){t.userMsg=n},setToast:function(t,n){t.toastObj.toast=!0,t.toastObj.toastMsg=n.msg,n.title&&(t.toastObj.toastTitle=n.title),n.cb&&(t.toastObj.cb=n.cb)},closeToast:function(t,n){t.toastObj.toast=!1},setReg:function(t,n){t.reg=n},setPacket:function(t,n){t.packets=n},setRedPacket:function(t,n){t.redPacket=n},setNaming:function(t,n){t.naming=n},setNotice:function(t,n){t.notice=n},setBoxStatus:function(t,n){t.packets.status[n]=1},setSubscribe:function(t,n){t.redPacket.subscribe=n},changGroupsUserMsg:function(t,n){if(n&&void 0!==n.key){var e=n.key;delete n.key,t.groupsUserMsg=Object.assign({},t.groupsUserMsg,c({},e,Object.assign({},t.groupsUserMsg[e],n)))}},updateRankGroups:function(t,n){if(n&&void 0!==n.key){var e=n.key;delete n.key,t.rankGroups=Object.assign({},t.rankGroups,c({},e,Object.assign({},t.rankGroups[e],n)))}},changTab:function(t,n){t.tab=n}},actions:{setloading:function(t,n){(0,t.commit)("isLoaging",n)}},getters:{}});n.a=r},NxGh:function(t,n,e){"use strict";var s=e("SJI6"),o={name:"Loading",data:function(){return{}},computed:(Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t})({},Object(s.mapState)(["isLoading"])),props:{text:{type:String,default:"Loading"},size:{type:Number,default:30}}},i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.isLoading,expression:"isLoading"}],staticClass:"customLoading",attrs:{id:"customLoading"}},[n("div",{staticClass:"loading"})])},staticRenderFns:[]};var a=e("C7Lr")(o,i,!1,function(t){e("g0TR")},null,null);n.a=a.exports},OMN4:function(t,n){t.exports=axios},SJI6:function(t,n){t.exports=Vuex},X2Oc:function(t,n,e){"use strict";var s,o=e("AQYe"),i={vuexCommit:function(t,n){o.a.commit(t,n)},ModalHelper:(s=void 0,{afterOpen:function(){s=document.scrollingElement.scrollTop,document.body.classList.add("dialog-open"),document.body.style.top=-s+"px"},beforeClose:function(){document.body.classList.remove("dialog-open"),document.scrollingElement.scrollTop=s}}),toast:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,e=document.createElement("div");e.style.cssText="position:fixed; z-index:10000; left:0; top:0; right:0; bottom:0; text-align:center; pointer-events:none",e.innerHTML='<span style="display:inline-block; padding:.1rem .2rem; max-width:80%; background:#212125; color:#fff; border-radius:.1rem; opacity:0; margin-top:'+Math.round(window.innerHeight/2)+'px; transition:opacity 1s">'+t+"</span>",document.body.appendChild(e);var s=e.firstChild;setTimeout(function(){s.style.opacity=1},0),setTimeout(function(){s.style.opacity=0,setTimeout(function(){document.body.removeChild(e)},1e3)},1e3+n)}};n.a=i},g0TR:function(t,n){},hBc3:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("lRwf"),o=e.n(s),i=e("yKQW"),a=e("NxGh"),c=(e("j60g"),{components:{Loading:a.a},data:function(){return{songList:[],showPup:!1,songid:null,tastMsg:"",showT:!1,songIndex:null,tostTitle:"",back:!1}},computed:{isLength:function(){return this.songList.length>0}},created:function(){var t=this;document.title="上傳作品",i.a.song().then(function(n){0===n.data.response_status.code&&(t.songList=n.data.response_data.list)}),sessionStorage.setItem("need-refresh",!0)},methods:{goSing:function(){location.href="goto:songLibrary"},choiceSong:function(t,n){this.songid=t,this.showPup=!0,this.songIndex=n},changed:function(){var t=this;i.a.upload(this.songid).then(function(n){0===n.data.response_status.code?(t.showPup=!1,t.songList.splice(t.songIndex,1),t.back=!0):(t.showPup=!1,t.toast(n.data.response_status.error))})},hdPup:function(){this.showPup=!1},closeToast:function(){this.showT=!1}}}),r={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"song"},[t.isLength?e("div",{staticClass:"haSong"},[e("h5",[t._v("選擇你最滿意的作品報名參賽吧")]),t._v(" "),e("div",{staticClass:"songList"},[e("ul",t._l(t.songList,function(n,s){return e("li",{key:s},[e("div",{staticClass:"songLeft"},[e("span",{staticClass:"name"},[t._v(t._s(n.name))]),t._v(" "),e("span",{staticClass:"tm"},[t._v(t._s(n.time))])]),t._v(" "),e("span",{staticClass:"joinBtn",on:{click:function(e){return t.choiceSong(n.sid,s)}}},[t._v("選擇參賽")])])}),0)]),t._v(" "),e("div",{staticClass:"goSing",class:{border:t.isLength}},[t.isLength?e("p",[t._v("沒有符合心意的歌曲嗎？")]):t._e(),t._v(" "),e("div",{staticClass:"sing",on:{click:function(n){return t.goSing()}}},[t._v("去唱一首")]),t._v(" "),t.isLength?e("span",[t._v("唱完記得回來完成報名喔")]):t._e()])]):e("div",{staticClass:"noSong"},[e("h5",[t._v("你還沒有符合參賽要求的參賽作品喔")]),t._v(" "),e("div",{staticClass:"sing",on:{click:function(n){return t.goSing()}}},[t._v("去唱一首")])]),t._v(" "),t._m(0),t._v(" "),t.showPup?e("div",{staticClass:"determinePup"},[e("div",{staticClass:"determinCon"},[e("p",[t._v("確認提交這一首作品參賽嗎？")]),t._v(" "),e("div",{staticClass:"chang"},[e("span",{staticClass:"no",on:{click:function(n){return t.hdPup()}}},[t._v("取消")]),t._v(" "),e("span",{staticClass:"ok",on:{click:function(n){return t.changed()}}},[t._v("確定")])])])]):t._e(),t._v(" "),e("Loading")],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tipsBox"},[e("p",{staticClass:"tips"},[e("i",[t._v("1.")]),t._v("參賽作品需為11月16日18:00:00后發佈的任意公開作品(清唱5分鐘除外)")]),t._v(" "),e("p",{staticClass:"tips"},[e("i",[t._v("2.")]),t._v("可上傳多首作品參賽，報名後作品收禮才會被計算")]),t._v(" "),e("p",{staticClass:"tips"},[e("i",[t._v("3.")]),t._v("若刪除活動期間報名的參賽作品，該刪除作品收禮魅力值作廢")])])}]};var u=e("C7Lr")(c,r,!1,function(t){e("wD35")},null,null).exports,g=e("AQYe"),p=e("X2Oc");o.a.config.productionTip=!1,o.a.prototype.toast=p.a.toast,new o.a({el:"#app",components:{main3:u},store:g.a,render:function(t){return t(u)}})},j60g:function(t,n,e){"use strict";n.a=function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(n);if(null!=e)return decodeURIComponent(e[2])}},lRwf:function(t,n){t.exports=Vue},wD35:function(t,n){},yKQW:function(t,n,e){"use strict";var s=e("OMN4"),o=e.n(s),i=e("AQYe"),a=e("j60g"),c=Object(a.a)("token");function r(t,n){return new Promise(function(e,s){i.a.dispatch("setloading",!0),o.a.get(t,n).then(function(t){i.a.dispatch("setloading",!1),e(t)}).catch(function(t){i.a.dispatch("setloading",!1),s(t)})})}var u={getDefault:function(t){return t?o.a.get("/songking2020/init.php?token="+c):r(c?"/songking2020/init.php?token="+c:"/songking2020/init.php")},singUp:function(){return r("/songking2020/reg.php?token="+c)},song:function(){return r("/songking2020/song.php?token="+c)},upload:function(t){return r("/songking2020/upload.php?token="+c+"&sid="+t)},upRank:function(){return r(c?"/songking2020/upRank.php?token="+c:"/songking2020/upRank.php")},rank:function(t){return r(c?"/songking2020/rank.php?token="+c+"&from="+t:"/songking2020/rank.php?from="+t)},subscribe:function(){return r("/songking2020/subscribe.php?token="+c)},openPacket:function(t){return r("/songking2020/openPacket.php?level="+t+"&token="+c)},openRedPacket:function(){return r("/songking2020/openRedPacket.php?token="+c)},redPacketHistory:function(t,n){return n?o.a.get("/songking2020/redPacketHistory.php?from="+t+"&token="+c):r("/songking2020/redPacketHistory.php?from="+t+"&token="+c)},hideRedPacket:function(){return o.a.get("/songking2020/hideRedPacket.php?token="+c)},report:function(t){return o.a.get("/songking2020/report.php?from="+t+"&token="+c)}};n.a=u}},["hBc3"]);