<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>&#x6D88;&#x8D39;&#x6709;&#x793C;&#x63A5;&#x53E3;&#x6587;&#x6863;</title>
        <style>
</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="消费有礼接口文档">消费有礼接口文档</h1>
<h2 id="测试token">测试token</h2>
<ul>
<li>uid=100593&amp;token=ViUxiblcvUxD-jKnKT4mzmwKPX0Lg93gO_xWdvuMoyfc2KzxfAmGwOQkvnvSteal4GQX3CFnb4jP3MaXw4ivgjQ3h8OAI7o_eBJX_zHu9K5BrlOgpwdUuCOePj1UHDDl</li>
<li>uid=245611&amp;token=vRpieQoW_i61DVV3JX6RQHZqxiTcmWbIrfXZtf5iovjCIJOi6L6iPw3ulO7UNUeg_a6M1DAimAMP8T4cIhOaEKNWEIKoXTxQJZcGTG0943PS44O9iOsf-iwSc7VI_HQr</li>
</ul>
<h2 id="1初始化">1.初始化</h2>
<p><a href="http://activities.udateapp.com/index.php?action=consumeGifts.init&amp;signture=innerserver&amp;uid=1555&amp;token=z0mDJEntq5Zvet5v2zFhXZjYoJQozdYzmW52DgEEq8r4YfoPLVGVHiKA3mMPexH79bbFRvWHlul6ypf7hmysFRFkPB39TQtfmokXVyIBJQyokKGz6zY38OKkF1aL2bQH">http://activities.udateapp.com/index.php?action=consumeGifts.init&amp;signture=innerserver&amp;uid={uid}&amp;token={token}</a></p>
<pre><code class="language-javascript"><div>{
  <span class="hljs-string">&quot;response_status&quot;</span>: {
      <span class="hljs-string">&quot;error&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>
  },
  <span class="hljs-string">&quot;response_data&quot;</span>: {
      <span class="hljs-string">&quot;uid&quot;</span>: <span class="hljs-number">1555</span>, <span class="hljs-comment">// 当前用户UID</span>
      <span class="hljs-string">&quot;step&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 活动阶段 0未开始 1进行中 2已结束</span>
      <span class="hljs-string">&quot;amount&quot;</span>: <span class="hljs-number">6000</span>, <span class="hljs-comment">// 当前用户累计消费金额</span>
      <span class="hljs-string">&quot;tasks&quot;</span>: {
          <span class="hljs-string">&quot;1500&quot;</span>: { <span class="hljs-comment">// 奖励消费门槛（领取奖励接口amount参数值）</span>
              <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 领取状态 0未达成 1可领取 2已领取</span>
              <span class="hljs-string">&quot;prizes&quot;</span>: [ <span class="hljs-comment">// 对应奖励列表</span>
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;鼓掌&quot;</span>, <span class="hljs-comment">// 礼物名称</span>
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_1568887570.png?wsSecret=2c0433064e5a7a04ca4599417a73ab7a&amp;wsTime=1599062400&quot;</span>, <span class="hljs-comment">// 礼物图标</span>
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">10</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;gift&quot;</span>, <span class="hljs-comment">// 礼物类型 gift普通礼物 car座驾 frame头像框</span>
                      <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 礼物数量</span>
                  }
              ]
          },
          <span class="hljs-string">&quot;5000&quot;</span>: {
              <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">1</span>,
              <span class="hljs-string">&quot;prizes&quot;</span>: [
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;星空&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">5000</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_goods_1590653663.png?wsSecret=6bb73dcd81e961ce80b5a31241b3ca2a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;car&quot;</span>,
                      <span class="hljs-string">&quot;day&quot;</span>: <span class="hljs-number">3</span> <span class="hljs-comment">// 奖励天数（座驾和头像框有效天数）</span>
                  }
              ]
          },
          <span class="hljs-string">&quot;20000&quot;</span>: {
              <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">&quot;prizes&quot;</span>: [
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;鼓掌&quot;</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_1568887570.png?wsSecret=2c0433064e5a7a04ca4599417a73ab7a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">10</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;gift&quot;</span>,
                      <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">2</span>
                  }
              ]
          },
          <span class="hljs-string">&quot;50000&quot;</span>: {
              <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">&quot;prizes&quot;</span>: [
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;鼓掌&quot;</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_1568887570.png?wsSecret=2c0433064e5a7a04ca4599417a73ab7a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">10</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;gift&quot;</span>,
                      <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>
                  }
              ]
          },
          <span class="hljs-string">&quot;80000&quot;</span>: {
              <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">&quot;prizes&quot;</span>: [
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;星空&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">5000</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_goods_1590653663.png?wsSecret=6bb73dcd81e961ce80b5a31241b3ca2a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;car&quot;</span>,
                      <span class="hljs-string">&quot;day&quot;</span>: <span class="hljs-number">5</span>
                  }
              ]
          },
          <span class="hljs-string">&quot;200000&quot;</span>: {
              <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">&quot;prizes&quot;</span>: [
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;鼓掌&quot;</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_1568887570.png?wsSecret=2c0433064e5a7a04ca4599417a73ab7a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">10</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;gift&quot;</span>,
                      <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>
                  }
              ]
          },
          <span class="hljs-string">&quot;400000&quot;</span>: {
              <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">&quot;prizes&quot;</span>: [
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;星空&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">5000</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_goods_1590653663.png?wsSecret=6bb73dcd81e961ce80b5a31241b3ca2a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;car&quot;</span>,
                      <span class="hljs-string">&quot;day&quot;</span>: <span class="hljs-number">15</span>
                  },
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;星空&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">5000</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_goods_1590653663.png?wsSecret=6bb73dcd81e961ce80b5a31241b3ca2a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;frame&quot;</span>,
                      <span class="hljs-string">&quot;day&quot;</span>: <span class="hljs-number">7</span>
                  },
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;鼓掌&quot;</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_1568887570.png?wsSecret=2c0433064e5a7a04ca4599417a73ab7a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">10</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;gift&quot;</span>,
                      <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>
                  }
              ]
          }
      }
  }
}
</div></code></pre>
<h2 id="2领取奖励">2.领取奖励</h2>
<p><a href="http://activities.udateapp.com/index.php?action=consumeGifts.get&amp;amount=1500&amp;signture=innerserver&amp;uid=1555&amp;token=z0mDJEntq5Zvet5v2zFhXZjYoJQozdYzmW52DgEEq8r4YfoPLVGVHiKA3mMPexH79bbFRvWHlul6ypf7hmysFRFkPB39TQtfmokXVyIBJQyokKGz6zY38OKkF1aL2bQH">http://activities.udateapp.com/index.php?action=consumeGifts.get&amp;amount={amount}&amp;signture=innerserver&amp;uid={uid}&amp;token={token}</a></p>
<h3 id="参数">参数</h3>
<ul>
<li>amount 门槛金币值</li>
</ul>
<h3 id="code">code</h3>
<ul>
<li>30001 任務未達成</li>
<li>30002 已經領取過了</li>
</ul>
<pre><code class="language-javascript"><div>{
  <span class="hljs-string">&quot;response_status&quot;</span>: {
      <span class="hljs-string">&quot;error&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>
  },
  <span class="hljs-string">&quot;response_data&quot;</span>: {
      <span class="hljs-string">&quot;prizes&quot;</span>: [ <span class="hljs-comment">// 获得奖励（结构与init接口一致）</span>
          {
              <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
              <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;鼓掌&quot;</span>,
              <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_1568887570.png?wsSecret=2c0433064e5a7a04ca4599417a73ab7a&amp;wsTime=1599062400&quot;</span>,
              <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">10</span>,
              <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;gift&quot;</span>,
              <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>
          }
      ]
  }
}
</div></code></pre>
<h2 id="3领取记录">3.领取记录</h2>
<p><a href="http://activities.udateapp.com/index.php?action=consumeGifts.history&amp;signture=innerserver&amp;uid=1555&amp;token=z0mDJEntq5Zvet5v2zFhXZjYoJQozdYzmW52DgEEq8r4YfoPLVGVHiKA3mMPexH79bbFRvWHlul6ypf7hmysFRFkPB39TQtfmokXVyIBJQyokKGz6zY38OKkF1aL2bQH">http://activities.udateapp.com/index.php?action=consumeGifts.history&amp;signture=innerserver&amp;uid={uid}&amp;token={token}</a></p>
<h3 id="参数-1">参数</h3>
<pre><code class="language-javascript"><div>{
  <span class="hljs-string">&quot;response_status&quot;</span>: {
      <span class="hljs-string">&quot;error&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>
  },
  <span class="hljs-string">&quot;response_data&quot;</span>: {
      <span class="hljs-string">&quot;list&quot;</span>: [
          {
              <span class="hljs-string">&quot;amount&quot;</span>: <span class="hljs-number">1500</span>, <span class="hljs-comment">// 领取消费奖励门槛</span>
              <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-number">1599017501</span>, <span class="hljs-comment">// 领取时间戳</span>
              <span class="hljs-string">&quot;prizes&quot;</span>: [ <span class="hljs-comment">// 此门槛奖励列表</span>
                  {
                      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
                      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;鼓掌&quot;</span>,
                      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;http://udatefile.cat1314.com/uc/img/image_1568887570.png?wsSecret=2c0433064e5a7a04ca4599417a73ab7a&amp;wsTime=1599062400&quot;</span>,
                      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">10</span>,
                      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;gift&quot;</span>,
                      <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>
                  }
              ]
          }
      ]
  }
}
</div></code></pre>
<h2 id="4测试-设置用户已消费数额">4.测试-设置用户已消费数额</h2>
<p><a href="http://activities.udateapp.com/index.php?action=consumeGifts.test&amp;signture=innerserver&amp;uid=1555&amp;amount=500000">http://activities.udateapp.com/index.php?action=consumeGifts.test&amp;signture=innerserver&amp;uid={uid}&amp;amount={amount}</a></p>
<h3 id="参数-2">参数</h3>
<ul>
<li>uid</li>
<li>amount</li>
</ul>
<h3 id="code-1">code</h3>
<ul>
<li>20006 活动上线后禁用非法操作</li>
</ul>
<pre><code class="language-javascript"><div>{
  <span class="hljs-string">&quot;response_status&quot;</span>: {
      <span class="hljs-string">&quot;error&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>
  },
  <span class="hljs-string">&quot;response_data&quot;</span>: {
      <span class="hljs-string">&quot;action&quot;</span>: <span class="hljs-string">&quot;consumeGifts.test&quot;</span>,
      <span class="hljs-string">&quot;signture&quot;</span>: <span class="hljs-string">&quot;innerserver&quot;</span>,
      <span class="hljs-string">&quot;uid&quot;</span>: <span class="hljs-string">&quot;1555&quot;</span>,
      <span class="hljs-string">&quot;amount&quot;</span>: <span class="hljs-string">&quot;6000&quot;</span>,
      <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;Set user consume amount succ, uid:1555, amount:6000&quot;</span>
  }
}
</div></code></pre>

    </body>
    </html>